title: 技术述职
speaker: 刘晓阳    
transition: move
files: /js/demo.js,/css/demo.css,/js/zoom.js
theme: moon
usemathjax: yes
[slide]
# 技术述职
<small>刘晓阳-住宿前端研发组</small>
[slide]
# about me {:&.flexbox.vleft}
> 我叫<span class="text-success">刘晓阳</span>， 来自<span class="text-warning">住宿前端研发组</span>， <span class="text-success">2016年9月26号</span>加入美团点评，
> 之前就职于<span class="text-warning">云鸟科技</span>，主要从事<span class="text-success">node.js</span>服务端方面的开发工作。
> 熟悉的技术栈有<span class="text-success">JavaScript</span>，<span class="text-success">node.js</span>，<span class="text-success">Vue</span>等


# 酒旅6个月
> 入职后在前端基础服务组，主要负责离线平台，awp，脚手架，pm25等开发和维护工作， {:&.pull-right}
> 后加入酒店前端开发组深入了解业务，前后参加了飞马系统，差旅机票改版，差旅企业支付，酒店pc等产品开发工作
[slide]
* 技术项目
    * **离线平台**
    * 脚手架
* 业务
    * 差旅机票重构和企业支付
* 其他需求
[slide]
# 离线化能为我们带来什么
<img width="450" height="300" src="/olp2.png">
<img width="450" height="300" src="/olp4.png">
[slide]
## <i class="fa fa-send"></i> SITUATION
----
* 提升页面加载速度尤其是弱网环境下
* 前端工程node -> AWP + CDN迁移（火车票，飞机票，船票...）
* 改善一期工程发布流程和离线方式

<br>
<br>
> 酒店、火车票、目的地等类目的很多使用场景恰恰是景区，旅游路上，属于弱网环境的典型适用者，弱网环境下离线包将发挥巨大作用。资源离线化，将大大提升Hybrid应用的体验。

[slide]
## 解决痛点
* 现存问题 {:&.fadeIn}
    * 接入流程繁琐，不支持一键接入，接入成本高
    * 离线包不支持增量更新
    * html未离线化
    * 推包率低，客户端数据只有70%的推包率
* **解决方案**
    * **离线应用可视化，支持一键接入，一键下线，模板发布，自动生成离线包，上传CDN，更新配置文件等**
    * **支持不同压缩算法的增量更新(gizp, bzip2)**
    * **离线化主文档，支持客户端静态资源匹配和主文档匹配**
    * **使用增量更新，极大缩小离线包更新成本，支持配置文件，和推送两种形式推包，提高推包率**
[slide]
## 系统架构
----
<img align="left" width="400" height="400" src="/olp-service.png">
<img align="right" width="400" height="400" src="/olp-client.png">
[slide]
## <i class="fa fa-tasks"></i> TASK
----
* 离线平台服务 {:&.fadeIn}
    * 获取离线文件，打包
    * 支持增量更新
    * 上传全量，增量文件，配置文件到CDN
    * 一键接入，减少接入成本
    * 前后端分离，sso，awp接入，减少维护迭代成本
* 离线平台客户端
    * 客户端全量增量更新机制约定
    * 客户端埋点数据统计
* 离线应用
    * 性能统计埋点
[slide]
## <i class="fa fa-keyboard-o"></i> ACTION
----
* 离线平台服务端开发
<img src="/olp5.png">

* 离线平台前端开发
    * 前端技术栈调研（vue技术栈）
    * 前端UI集成，网页布局，sso接入搭建
    * 前端页面功能开发
[slide]
## <i class="fa fa-line-chart"></i> RESULT
----
* 完成情况 {:&.fadeIn}
    * 按时完成离线平台服务端/前端开发工作
    * 主动推动客户端进度，已完成联调工作，进入测试
* 接入情况
    * 国际机票全量/增量包接入
    * 船票业务全量/增量包接入
* 收益
    * 接入离线包的项目加载性能能够提升60%
    * 推包到达率能够保持在90%以上
    * 增量包机制能节约90%以上的流量（3.5M全量->50kb增量）
[slide]
* 技术项目
    * 离线平台
    * **AWP**
* 业务
    * 差旅机票重构和企业支付
* 其他需求
[slide]
## <i class="fa fa-send"></i> SITUATION
<br>
> 美团的AWP是指酒旅打造的一套从项目工程化，应用高性能、高可用等角度出发的前端工程解决方案，
> 利用当下大前端的工程化趋势，集成自动化工具，实现了从工程创建到编译、构建、测试、发布等一系列流程，在这些流程中，
> AWP做到了更便捷的本地开发、更灵活自由的构建、多测试环境的一键同步、上线后高性能和高可用性等，旨在让前端工程师更加专注于用户体验和交互

<br>
* 需要获得AWP直观的使用数据，便于增强脚手架的易用性
* 现有技术栈不统一，推进技术栈和工程结构统一
[slide]
## <i class="fa fa-keyboard-o"></i> TASK
* AWP数据埋点 {:&.fadeIn}
    * 对发布文件，发布次数，发布环境，错误，发布时长等进行MGE系统数据上报
    * 星空数据报表
* 发布流程优化
    * 对发布效率，unicode转码，域名配置等进行优化
* vue2.0脚手架
    * 调研yeoman脚手架
    * 调研现有系统目录结构，和技术栈，开发vue2.0脚手架
[slide]
## <i class="fa fa-tasks"></i> TASK
* AWP埋点 {:&.fadeIn}
    * 使用glob获取文件类型，并上传
    * 轮询进程发布文件状态，记录发布时长
    * 星空SQL报表开发
* 优化
    * 基于Gulp流处理优化编译速度，增加转码，多套发布环境，数据上报等功能
    * 增加检查处理，保持持续健壮性
* vue2.0脚手架
    * 基于多页面工程的目录结构和webpack配置
    * 集成vuex技术栈
[slide]
## <i class="fa fa-line-chart"></i> RESULT
* 细粒度的分析AWP的使用数据
* 提高了AWP的健壮性，保证程序高可用
* Vue脚手架应用于90%新工程搭建，统一技术栈和目录结构
[slide]
* 技术项目
    * 离线平台
    * AWP
* 业务
    * **差旅机票重构和企业支付**
* 其他需求
[slide]
## <i class="fa fa-credit-card"></i> 差旅企业支付
[slide]
## 什么是企业支付？
 <img src="/qyzf001.png" height="800" width="700">
[slide]
## <i class="fa fa-send"></i> SITUATION
----
* 员工-耗时：出差需要索要发票报销 ,之后还要收快递、提报销、贴发票，浪费员工工作时间 {:&.fadeIn}
* 员工-快递费用无法报销：发票快递费因没有快递发票，基本不报销，消耗员工费用
* 企业-费用不可控：无事前费用管控，只有报销时候才可知当前成本消费情况，以至于超出预算后无法及时控制成本而超出部门成本
[slide]
## <i class="fa fa-tasks"></i> TASK
----
* 业务调研 {:&.fadeIn}
    * 业务背景
    * 预期收益
* 需求开发
    * 企业支付下单页
    * 订单详情页改版
[slide]
## <i class="fa fa-keyboard-o"></i> ACTION
----
* 开发差旅机票企业支付组件 {:&.fadeIn}
    * 交互，设计（企业支付突出展示，未开通用户引导开通）
    * 请求处理 （单独处理企业支付订单数据）
    * 结果处理 （处理服务端返回结果）
* 订单详情页
    * 订单详情页技术栈迁移（PHP -> Vue）
    * 差旅超标申请逻辑处理
* 依赖接口调试
* 增加TMC多套测试环境配置
[slide]
## <i class="fa fa-line-chart"></i> RESULT
* 业务 {:&.fadeIn}
    * 员工-节省员工时间：175pd/月
    * 员工-节省员工消费：27910/月
    * 企业-控制预算/成本/合规管理
* 个人
    * 当被后端block后，多任务并行工作
[slide]
## 其他需求
----
* 机票i版技术栈切换 {:&.fadeIn}
    * tmc现使用的php技术栈现无资源维护
    * 机票业务已改版完成
* 预订全流程优化
    * 背景：TMC已线上小范围试运行3个月，先计划“酒旅+职能”部门推广，对目前收集到问题和优化点统一做了优化
* 飞马系统
    * 价格竞争力界面新增图表需求
    * 竞争力热力地图优化
    * 预测型数据竞争力日期优化 ps(飞马系统在年度评比中获得卓越项目奖)
* PM25
    * PM25日常维护，解决PM25 DB碎片化问题
    * 新版pm25_cli开发, service 优化
[slide]
## <i class="fa fa-hand-o-up"></i> 沉淀wiki
----
* Node.js Stream 学习笔记 （通过AWP工具包的维护和开发，对node stream方面有很大的收获）
* Gulp.js插件如何开发？ （工具包开发中对Gulp 插件开发进行了学习）
* bsdiff之压缩算法bzip2 vs gzip （离线平台增量更新方案）
* Service worker （客户端增量更新方案）
* dev-server 支持 https

[slide]
# 成长 {:&.flexbox.vleft}
> 通过技术项目和多个业务项目的开发对相关的技术栈有了更深层的了解，对前端技术架构有了一定的认识，通过产品需求的开发，对业务和产品设计有了一定的理解，对需求开发中被block的场景总结了自己的解决方法，能够高效的利用自己的时间。
> 在需求开发中结果导向有了一定的成长，做事更关注结果。工作过程中养成了沉淀学习成果的习惯，及时总结自己。
[slide]
# 规划 {:&.flexbox.vleft}
* 背景
    * 基础服务项目开发经历，熟悉node服务端和工具开发
    * 接触过几个不同的业务，不同技术栈，不同平台的项目
* 问题
    * 前端工程发布流程，离线化，工程质量，组件质量等都存在很多不足
    * 自身技术知识总结，梳理和时间管理能力欠缺
* 规划
    * 短期规划：总结业务场景中的最佳实践，提高工程质量，和开发效率，继续增加对基础项目的贡献。
    * 长期规划：对自己技术栈进行分类，根据实际使用场景和频率进行有计划的学习。保持自身技术栈更新，产出提高人效的工具。合理利用自身时间。
[slide]

* 阶段性任务-**短期规划**（Q2-Q3）
    * 总结业务共性需求，产出对应场景的最佳实践demo和应用手册，提高20%-30%开发效率。
    * 继续保持离线平台，脚手架和PM25等基础服务的贡献，离线平台2期开发，脚手架维护和迭代，PM25完成现有服务端数据上报优化。
    * 持续更新技术栈，保持底层知识和新技术的学习。为团队做出不少于2次的分享。
* 阶段性任务-**长期规划** （2017）
    * 深入框架底层，了解其工作原理，和相关的性能优化，产出相关wiki。
    * 养成梳理和总结知识点的习惯，学会记录和回顾。
    * 学习番茄工作法，合理利用时间，适当运动，保持身体健康。
[slide]
# 感谢



